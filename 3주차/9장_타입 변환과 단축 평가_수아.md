# 📖 개념

### 1️⃣ 정적 언어와 동적 언어

- 정적 언어: 컴파일타임에 타입이 결정
  > 컴파일타임: 개발자에 의해 개발언어로 소스코드가 작성되며 컴파일 과정을 통해 컴퓨터가 인식할 수 있는 기계어 코드로 변환되어 실행 가능한 프로그램이 되는 과정
- 동적 언어: 런타임에 타입이 결정
  > 런타임: 컴파일과정을 마친 프로그램은 사용자에 의해 실행되며, 이러한 응용프로그램이 동작되는 때를 말함.

* 자바스크립트는 동적 언어이기 때문에 암묵적 타입변환이 가능. 그렇지만 모든 동적 언어가 암묵적 타입 변환이 가능한 것은 아님(예. 파이썬).

  > 🤷🏻‍♀️ 자바스크립트는 컴파일 언어인가/인터프리터 언어인가

  <br>

### 2️⃣ 타입스크립트과 타입변환

- 타입스크립트는 정적 타입 언어.
- 자바스크립트의 모든 기능을 지원하면서 컴파일에 의해 변수의 타입이 정해짐
- 때문에 타입스크립트에서는 명시적 타입변환을 통해 타입을 바꾸어야 함.

  <br>

### 3️⃣ 타입변환

- 타입 변환: 기존 원시 값을 사용해 다른 타입의 새로운 원시 값을 생성하는 것
  > 기존의 원시값을 변경하는 것은 아님.
- 명시적 타입 변환(타입 캐스팅):개발자가 의도적으로 값의 타입을 변환하는 것
- 암묵적 타입 변환(타입 강제 변환): 개발자의 의도와 상관없이 표현식을 평가하는 중에 자바스크립트 엔진에 의해 암묵적으로 타입이 변환되는 것

  > 암묵적 타입 변환은 변수 값을 재할당해서 변경하는 것이 아니라 자바스크립트 엔진이 표현식을 에러없이 평가하기 위해 기존 값을 바탕으로 새로운 타입의 값을 만들어 단 한번 사용하고 버림.

  <br>

### 🤔 10 + ""은 명시적 타입 변환일까요, 암묵적 타입 변환일까요?

- 의도적으로 한 것이면 명시적 타입 변환. 두 개념이 반대되는 개념이기는 하나 무 자르듯이 +로 하는 것은 명시적!은 아니고 의도성에 초점이 맞추어져 있는듯.
- 10 + "1"은 암묵적 타입 변환이라고 봄.

  <br>

### 🤔 명시적 타입 변환이 암묵적 타입 변환에 비해 더 좋을까요?

- 무조건 명시적 타입변환이 더 좋은 것은 아님. (10).toString() 보다 10 + "" 가 더 가독성이 높을 수 있음

  <br>
  <br>

# 📖 타입변환 퀴즈

### Q. 정답을 맞춰보자

1. 1 + "1"
2. "1" + 1
3. 1 - "1"
4. "1" - 1
5. [1, 2] + ""

<br>

### PS. 타입변환의 우선순위 (feat. chat GPT)

자바스크립트에서 타입 변환을 수행할 때, 우선순위가 높은 것부터 차례대로 적용

1. 명시적 타입 변환: parseInt, parseFloat, Number, String 등의 내장 함수를 사용하여 명시적으로 타입 변환을 수행

2. 연산자를 이용한 타입 변환: + 연산자는 피연산자 중 하나가 문자열이면 나머지 피연산자를 문자열로 변환. -, \*, / 등의 산술 연산자는 피연산자를 숫자로 변환

3. 자동 타입 변환: 자바스크립트에서는 다양한 상황에서 자동으로 타입 변환이 일어남. 예를 들어, == 연산자를 사용할 때는 자동 타입 변환이 일어나므로, 서로 다른 데이터 타입의 값을 비교할 때 주의가 필요.

4. 타입 강제 변환: eval 함수를 사용하면 문자열로 표현된 자바스크립트 코드를 실행할 수 있습니다. 이때 eval 함수를 사용하면서 타입 강제 변환을 수행할 수도 있습니다.(보안상의 이유, 가독성 문제로 지양됨)

<br>
<br>

# 📖 명시적 타입 변환

### 1️⃣ 문자열로 만들기

- String 생성자 함수를 new 연산자 없이 호출하는 방법
  ```javascript
  String(1);
  // 여기서 new String(1)로 하면 object가 생성됨
  // new 를 붙이지 않으면 생성자 내의 this가 전역객체를 가리키게 됨
  ```
- Object.prototype.toString 메소드를 사용하는 방법
  ```javascript
  (1).toString();
  //1을 숫자 리터럴로 만든 후 해당 숫자 메서드를 이용하여 변환
  ```
- 문자열 연결 연산자를 이용하는 방법
  ```javascript
  1 + "";
  ```

<br>

### 2️⃣ 숫자형으로 만들기

- Number 생성자 함수를 new 연산자 없이 호출하는 방법

  ```javascript
  Number("1");
  // 여기서 new Number("1")로 하면 object가 생성됨
  // new 를 붙이지 않으면 생성자 내의 this가 전역객체를 가리키게 됨
  ```

- parseInt, parseFloat 함수를 사용하는 방법(문자열만 변환 가능)
  ```javascript
  parseInt("1");
  parseFloat("1");
  ```
- 단항 연결 연산자를 이용하는 방법
  ```javascript
  +"1";
  ```
- 산술 연산자를 이용하는 방법
  ```javascript
  "1" * 1;
  ```

<br>

### 3️⃣ 불린값으로 만들기

- Boolean 생성자 함수를 new 연산자 없이 호출하는 방법
  ```javascript
  Boolean(0); //false
  ```
- ! 부정 논리 연산자를 두번 사용하는 방법
  ```javascript
  !!0; //false
  ```

<br>
<br>

# 📖 단축평가

### 1️⃣ A && B

- A가 true이면 B반환
- A가 false이면 A반환

<br>

### 2️⃣ A || B

- A가 true이면 A반환
- A가 false이면 B반환

  <br>

```javascript
//활용 1
const object = undefined;
const val = object && object.value; //에러 안남

//활용 2
function func(str) {
  str = str || "";
  return str.length;
}

console.log(func()); // 에러 안남
```

<br>

### 3️⃣ A?.B (옵셔널 체이닝 연산자)

- && 와 유사하나 A == null/undefined 이면 undefined을 반환, 그 외엔 A.B를 진행 ;
- A가 정의되어 있지 않다면 오류 발생

> ?. 연산자는 null-conditional 연산자이며, 객체가 null이 아닌 경우에만 속성 또는 메서드에 접근하도록 합니다.

> ?.() 연산자는 null-conditional 메서드 호출 연산자이며, 메서드가 null이 아닌 경우에만 호출하도록 합니다. 이를 통해 메서드 호출 중에 null 참조 예외가 발생하는 것을 방지할 수 있습니다.

> ?.[] 연산자는 null-conditional 인덱서 연산자이며, 배열이나 리스트 등의 컬렉션에서 인덱스를 사용하여 항목을 가져올 때 사용합니다. 이 연산자를 사용하면 컬렉션이 null인 경우에도 null을 반환하므로 null 참조 예외를 방지할 수 있습니다.

```javascript
//활용 3
const object = undefined;
object?.value; //에러 안남

//활용 4
const object = {
  name: "sua",
};
object.say?.(); //에러 안남

//활용 5
const array = null;
array?.[1]; //에러 안남
```

<br>

### 4️⃣ A ?? B (null 병합 연산자)

- || 와 유사하나 A == null/undefined 이면 undefined을, 그 외엔 B를 반환.
- 기존 || 방식으로는 0과 같은 boolean이 false가 되는 값이 잘못 처리됨. 이를 방지.
- AND (&&) 와 OR 연산자 (||)를 ??와 직접적으로 결합하여 사용하는 것은 불가능
  (괄호를 사용하면 사용 가능)

<br>

```javascript
//활용 6
"" || "hi"; //"hi"
"" ?? "hi"; //""

// 활용 7
null || undefined  ?? "foo";   //오류 생생
(null || undefined ) ?? "foo"; //오류 안남

// 활용 8 옵셔널체이닝이랑 연결해서 사용
const object = {
  name: "sua",
}
object?.age ?? "미기재"     //미기재
```

<br>

---

### 정답

1. "11"
2. "11"
3. 0
4. 0
5. "1,2"

### 참고사이트

- [생성자 함수](https://webclub.tistory.com/309)
- [자바스크립트는 컴파일 언어이다](https://yuddomack.tistory.com/entry/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%A0%88%EC%9D%B4%EC%85%98%EC%BD%94%EB%93%9C%EC%9D%98-%EC%8B%A4%ED%96%89%EA%B3%BC%EC%A0%95)
- [자바스크립트는 컴파일 특성을 가진 인터프리터 언어](https://velog.io/@seungchan__y/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94-Compiler-Interpreter-%EC%96%B8%EC%96%B4%EB%8B%A4)
- [딥다이브 내용 블로그](https://poiemaweb.com/js-type-coercion)
